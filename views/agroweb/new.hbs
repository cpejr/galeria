{{#section 'stylesheets'}}
{{/section}}

<div class="pb-3 gradient-background text-white">
  <h3 class="text-center font-black">Nova oferta</h3>
</div>

<div class="container">
  <form action="/offers/" method="POST">
    <div class="row d-flex justify-content-between">
      <div class="col-md-4">
        <div class="form-group mx-4 my-2">
          <label for="price" class="rounded bg-black"><i class="fas fa-archive fa-sm mr-2"></i> Dados gerais: </label>
        </div>

        <div class="user-input">
          <br/>
          <div class="form-group mb-2">
            <div class="input-group" id="products-list">
              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fas fa-search"></i></div>
              </div>
              <input name="offer[product]" class="form-control typeahead" type="text" placeholder="Nome do produto" required>
            </div>
          </div>
        </div>

        <div class="user-input">
          <br/>
          <div class="input-group mb-2">
            <div class="input-group-prepend">
              <div class="input-group-text"><i class="fas fa-archive"></i></div>
            </div>
            <input name="offer[stock]" type="number" class="form-control input-text" required>
            <div class="input-group-prepend product-unit">
            </div>
            <label class="floating-label text-dark2">Estoque</label>
          </div>
        </div>

        <div class="user-input">
          <br/>
          <div class="input-group mb-2">
            <div class="input-group-prepend">
              <div class="input-group-text"><i class="fas fa-archive"></i></div>
            </div>
            <input name="offer[minAmount]" type="number" class="form-control input-text" required>
            <div class="input-group-prepend product-unit">
            </div>
            <label class="floating-label text-dark2">Quantidade mínima</label>
          </div>
          <div class="mt-4 ml-2">
            <input id="mega" type="checkbox" name="offer[megaOpportunity]" value="true"></input>
            <label>Mega Oportunidade</label>
          </div>
        </div>
      </div>


      <div class="col-md-4">
        <div class="form-group mx-4 my-2">
          <label for="price" class="rounded bg-black"><i class="fas fa-dollar-sign fa-sm mr-2"></i> Preços: </label>
        </div>

        <div class="user-input">
          <br/>
          <div class="input-group mb-2">

           <div class="input-group-prepend">
             <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
           </div>
           <select class="form-control new-shadow" name="offer[usd]">
             <option value="false">Dólar americano (U$)</option>
             <option value="false" selected>Real (R$)</option>
           </select>
          </div>
        </div>

        <div id="mega-price">
          <div class="user-input">
            <br/>
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
              </div>
              <input id="mega-price-input" name="offer[price][mega]" type="number" class="form-control input-text">
              <label class="floating-label text-dark2">Preço</label>
              <div class="input-group-append">
                <button type="button" class="btn btn-green input-group-text" id="basic-addon2"
                  data-toggle="tooltip" data-placement="top" title="Valor abaixo do normal, apenas para produtos da MegaOportunidade">
                  ?
                </button>
              </div>
            </div>
          </div>
        </div>

        <div id="low-price">
          <div class="user-input">
            <br/>
            <div class="input-group mb-2">

              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
              </div>

              <input id="low-price-input" name="offer[price][low]" type="number" class="form-control input-text" required>
              <label class="floating-label text-dark2">Baixo</label>
              <div class="input-group-append">
                <button type="button" class="btn btn-green input-group-text" id="basic-addon2"
                  data-toggle="tooltip" data-placement="top" title="Valor mais barato, cobrado para grandes quantidades de produtos.">
                  ?
                </button>
              </div>
            </div>

          </div>
        </div>


        <div id="average-price">
          <div class="user-input">
            <br/>
            <div class="input-group mb-2">

              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
              </div>

              <input id="average-price-input" name="offer[price][average]" type="number" class="form-control input-text" required>
              <label class="floating-label text-dark2">Médio</label>
              <div class="input-group-append">
                <button type="button" class="btn btn-green input-group-text" id="basic-addon2"
                  data-toggle="tooltip" data-placement="top" title="Valor intermediário, cobrado para médias quantidades de produtos.">
                  ?
                </button>
              </div>
            </div>

          </div>
        </div>

        <div id="high-price">
          <div class="user-input">
            <br/>
            <div class="input-group mb-2">

              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
              </div>

              <input id="high-price-input" name="offer[price][high]" type="number" class="form-control input-text" required>
              <label class="floating-label text-dark2">Alto</label>
              <div class="input-group-append">
                <button type="button" class="btn btn-green input-group-text" id="basic-addon2"
                  data-toggle="tooltip" data-placement="top" title="Valor mais caro, cobrado para pequenas quantidades de produtos.">
                  ?
                </button>
              </div>
            </div>

          </div>
        </div>
      </div>

      <div class="col-md-4">

        <div id="mega-block-delivery">
          <div class="form-group mx-4 my-2">
            <label for="price" class="rounded bg-black"><i class="fas fa-boxes fa-sm mr-2"></i> Entrega e Avaria: </label>
          </div>

          <div class="user-input">
            <br/>
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fas fa-car"></i></div>
              </div>
              <select id="mega-delivery" class="form-control new-shadow" name="offer[delivery]">
              <option disabled selected value>-- Forma de entrega --</option>
              <option value="31 dias">Em até 31 dias</option>
              <option value="48 horas">Em até 48 horas</option>
            </select>
            </div>
          </div>

          <div class="user-input">
            <br/>
            <div class="input-group mb-2">
             <div class="input-group-prepend">
               <div class="input-group-text"><i class="fas fa-newspaper"></i></div>
             </div>
             <textarea id="damage-input" rows="4" name="offer[damage]" class="form-control input-text"></textarea>
             <label class="floating-label text-dark2">Avaria</label>
             </div>
          </div>
        </div>

        <div id="change-prices">
          <div class="form-group mx-4 my-2">
            <label for="price" class="rounded bg-black"><i class="fas fa-boxes fa-sm mr-2"></i> Mudança de preço e entrega: </label>
          </div>

          <div class="user-input">
            <br/>
            <div class="input-group mb-2">
              <div class="input-group-prepend">
                <div class="input-group-text"><i class="fas fa-sort-down"></i></div>
              </div>
              <input id="low-breakpoint" name="offer[breakpoints][low]" type="number" class="form-control input-text" required>
              <label class="floating-label text-dark2">Muda para baixo</label>
              <div class="input-group-append">
                <button type="button" class="btn btn-green input-group-text" id="basic-addon2"
                data-toggle="tooltip" data-placement="top" title="O preço da oferta mudará para 'baixo' a partir do valor inserido neste campo">
                ?
              </button>
            </div>
          </div>
        </div>

        <div class="user-input">
          <br/>
          <div class="input-group mb-2">
            <div class="input-group-prepend">
              <div class="input-group-text"><small><i class="fas fa-window-minimize"></i></small></div>
            </div>
            <input id="average-breakpoint" name="offer[breakpoints][average]" type="number" class="form-control input-text" required>
            <label class="floating-label text-dark2">Muda para médio</label>
            <div class="input-group-append">
              <button type="button" class="btn btn-green input-group-text" id="basic-addon2"
              data-toggle="tooltip" data-placement="top" title="O preço da oferta mudará para 'médio' a partir do valor inserido neste campo">
              ?
            </button>
          </div>
        </div>
      </div>


        <div class="user-input">
          <br/>
          <div class="input-group mb-2">
            <div class="input-group-prepend">
              <div class="input-group-text"><i class="fas fa-car"></i></div>
            </div>
            <select id="normal-delivery" class="form-control new-shadow" name="offer[delivery]" required>
            <option disabled selected value>-- Forma de entrega --</option>
            {{#compare userType 'Indústria'}}
            <option value="31 dias">Em até 31 dias</option>
            <option value="Safra">Safra</option>
            <option value="Safrinha">Safrinha</option>
            {{else compare userType 'Revendedor'}}
            <option value="31 dias">Em até 31 dias</option>
            <option value="48 horas">Em até 48 horas</option>
            {{/compare}}
          </select>
        </div>
      </div>
    </div>


  </div>
</div>

<div>
  <button class="btn btn-default bg-green text-light mx-auto mt-4 px-5 mb-3 d-block" type="submit">Enviar</button>
</div>
</form>
</div>

{{#section 'scripts'}}

  <script src="/javascripts/product.dropdown.js"></script>
  <script>
    $(function () {
      $('[data-toggle="tooltip"]').tooltip()
    });
  </script>
  <script src="/javascripts/megaoportunidade.js"></script>

{{/section}}
